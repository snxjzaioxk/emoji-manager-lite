# 已知问题 (Known Issues)

**版本**: v4.0.1
**更新日期**: 2025-10-02

---

## 🐛 当前已知问题

### 高优先级 (High Priority)

#### 1. 测试覆盖率不足
- **问题**: 单元测试框架已配置，但缺少 Electron API 模拟
- **影响**: 测试无法正常运行
- **状态**: 待修复
- **预计修复版本**: v4.1.0
- **临时解决方案**: 无

### 中优先级 (Medium Priority)

#### 2. 仅支持中文界面
- **问题**: 未实现国际化 (i18n)
- **影响**: 非中文用户体验差
- **状态**: 计划中
- **预计修复版本**: v4.1.0
- **临时解决方案**: 无

#### 3. 仅提供 Windows 版本
- **问题**: macOS 和 Linux 版本未构建
- **影响**: 限制用户群
- **状态**: 计划中
- **预计修复版本**: v4.1.0
- **临时解决方案**: 使用 Windows 虚拟机或双系统

#### 4. Beta 测试不足
- **问题**: 未进行充分的用户测试
- **影响**: 可能存在未发现的 bug
- **状态**: 进行中
- **预计修复版本**: v4.0.2
- **临时解决方案**: 反馈问题到 GitHub Issues

---

## ⚠️ 性能问题

### 1. 大量数据加载缓慢
- **问题**: 10,000+ 表情时加载和渲染较慢
- **影响**: 用户体验下降
- **状态**: 待优化
- **预计修复版本**: v4.1.0
- **临时解决方案**: 分批导入，使用分类管理

### 2. 扫描性能在某些场景下不稳定
- **问题**: 扫描超大文件夹时可能卡顿
- **影响**: 用户体验
- **状态**: 待优化
- **预计修复版本**: v4.1.0
- **临时解决方案**: 分批扫描

---

## ✅ 已修复问题

### v4.0.1 修复内容

#### 高优先级修复 ✅
1. **大量 console.log 调试代码未移除**
   - **问题**: 生产代码中包含 24+ 个文件的调试日志
   - **影响**: 影响性能和生产代码质量
   - **修复**: 执行 `node scripts/remove-console-logs.js` 批量替换为 logger 调用
   - **状态**: ✅ 已完成

#### UI/UX 问题修复 ✅
2. **没有加载状态指示器**
   - **问题**: 部分异步操作缺少加载提示
   - **影响**: 用户不知道操作是否在进行
   - **修复**: 集成 Loading 组件，统一加载状态显示
   - **状态**: ✅ 已完成

3. **错误提示不够友好**
   - **问题**: 错误信息过于技术化，用户理解困难
   - **修复**: 使用 Toast 组件替换 alert()，提供友好的错误提示
   - **状态**: ✅ 已完成

4. **确认对话框体验差**
   - **问题**: 使用原生 confirm()，样式不统一
   - **修复**: 集成 ConfirmDialog 组件，支持多种变体和键盘操作
   - **状态**: ✅ 已完成

5. **搜索性能问题**
   - **问题**: 每次输入都触发搜索，性能差
   - **修复**: 实现 300ms 防抖，减少无效搜索请求
   - **状态**: ✅ 已完成

6. **空列表显示不友好**
   - **问题**: 空状态显示简单，缺少引导
   - **修复**: 集成 EmptyState 组件，提供操作指引
   - **状态**: ✅ 已完成

7. **拖拽操作缺少视觉反馈**
   - **问题**: CategoryTree 拖拽时反馈不明显
   - **修复**: 增强拖拽视觉反馈，添加缩放和边框效果
   - **状态**: ✅ 已完成

---

## 📋 问题修复统计

### 按版本统计
- **v4.0.1 修复**: 7 个问题（1个高优先级，6个UI/UX问题）
- **总计待修复**: 4 个问题（1个高优先级，3个中优先级）
- **性能问题**: 2 个待优化

### 按类别统计
- **代码质量**: 1/1 已修复 (100%)
- **UI/UX**: 6/6 已修复 (100%)
- **性能**: 0/2 已修复 (0%)
- **国际化**: 0/1 已修复 (0%)
- **跨平台**: 0/1 已修复 (0%)

---

## 🔧 建议的改进

### 短期改进 (v4.0.2)
- [ ] 增加单元测试覆盖率
- [ ] 优化大量数据加载性能
- [ ] 改进扫描稳定性

### 中期改进 (v4.1.0)
- [ ] 实现国际化支持 (i18n)
- [ ] 添加 macOS 和 Linux 构建
- [ ] 完善测试体系
- [ ] 性能监控和优化

### 长期规划 (v4.2.0)
- [ ] 云同步功能
- [ ] 插件系统
- [ ] 移动端支持
- [ ] 高级搜索功能

---

**文档版本**: 2.0
**创建日期**: 2025-10-01
**最后更新**: 2025-10-02
**状态**: v4.0.1 已修复 7 个问题
