# Emoji Manager Lite v1.4.0 更新日志

发布日期：2025-09-24

## 🐛 Bug 修复和性能优化

### 资源管理改进
- ✅ 修复数据库关闭时未等待未完成操作的问题
- ✅ 添加临时文件自动清理机制（15分钟后自动清理）
- ✅ 进程退出时自动清理所有临时文件

### 稳定性增强
- ✅ 移除危险的非空断言，改用安全的空值检查
- ✅ 添加主窗口状态验证，防止窗口销毁后的操作
- ✅ 增强渲染进程中的 API 可用性检查

### 并发控制优化
- ✅ 实现存储目录初始化锁，防止重复初始化
- ✅ 改进表情删除的事务性处理，确保文件和数据库记录的一致性

### 错误处理完善
- ✅ 应用初始化失败时显示错误对话框
- ✅ 改进 JSON 解析错误处理，记录详细错误信息
- ✅ 数据库关闭操作增加错误处理

### Windows 兼容性增强
- ✅ 支持 Windows UNC 路径（\\server\share）
- ✅ 改进 file:// URL 转换的容错性
- ✅ 优化特殊字符路径处理

### IPC 通信安全性提升
- ✅ 所有 IPC 调用添加 30 秒超时机制
- ✅ 实现参数类型验证
- ✅ 添加设置值的特定验证规则

## 📊 技术改进
- TypeScript 类型安全性提升
- 代码质量改进，通过所有 lint 检查
- 增强的错误日志记录

## 🔧 开发者相关
- 修复了多个潜在的内存泄漏问题
- 改进了资源清理机制
- 优化了并发操作的安全性

---

本次更新主要关注应用的稳定性和可靠性，修复了多个潜在问题，提升了整体用户体验。